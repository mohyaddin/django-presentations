<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">

    <title>Django Mini Project 1</title>

    <link href="dist/reset.css" rel="stylesheet">
    <link href="dist/reveal.css" rel="stylesheet">
    <link href="dist/theme/black.css" rel="stylesheet">

    <!-- Theme used for syntax highlighted code -->
    <link href="plugin/highlight/monokai.css" rel="stylesheet">

    <style>
        .reveal h1 {
            text-transform: none;
        }

        .reveal h3 {
            text-transform: none;
        }
    </style>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section><h1>Django Mini Project 1</h1></section>
        <section data-visibility="hidden">
            <h3>Outline</h3>
            <ul>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </section>

<section data-markdown="">
<textarea data-template>
    ### Project Description
    - Create Note App
    - User can authenticate
    - Can create public and private note
    - Write Dockerfile
    ---
    ### Create App
    ```
    python manage.py startapp
    ```
    ---
    ### Create Model
    - Note Model
    - create migration with `python manage.py makemigrations`
    - migrate with `python manage.py migrate`
    - create sqlite by default
    ---
    ### Create url
    - change `urls.py` in project
    - change `urls.py` in app
    ---
    ### Create View
    - in `views.py`
    - create function based view or class based view (preferred) Sample
    - use APIView Sample
    - or use Mixin Sample
    - or use generics Sample
    - or use viewset Sample
    ---
    ### Pagination
    ---
    ### Pagination(Cont.)
    in APIView ([source](https://stackoverflow.com/questions/50869116/how-to-do-pagination-in-django-rest-api-in-apiview))
    ```python
    from rest_framework.pagination import PageNumberPagination
    paginator = PageNumberPagination()
    result_page = paginator.paginate_queryset(final_Score, request)
    serializer = TalentScoringSerializer(result_page, many=True)
    return paginator.get_paginated_response(serializer.data)
    ```
    ---
    ### Pagination(Cont.)
    in mixin, generics, viewset ([source](https://www.django-rest-framework.org/api-guide/pagination/))
    ```python
    class BillingRecordsView(generics.ListAPIView):
        queryset = Billing.objects.all()
        serializer_class = BillingRecordsSerializer
        pagination_class = PageNumberPagination
    ```
    ---
    ### Filter
    - [django filter package](https://pypi.org/project/django-filter/)
    ---
    ### add swagger drf-spectacular
    - install package
    - add to installed app
    - add routes
    ---
    ### create super user and admin page
    ```shell
    py manage.py createsuperuser
    ```
    or for prevent interactive:
    ```shell
    py manage.py createsuperuser --username admin --email admin@yahoo.com --pass
    ```
    - add notes to admin model
    - add `__str__` to model

    ---
    ### Generate Data With Command
    - we have sth in Laravel like factory, seeder
    - in django use command with folder /app/management/commands/command_name.py
    - inherit from Command
    - run command with `python manage.py command_name`
    ---
    ### Deploy To Liara With Sqlite Database
    - by default django uses sqlite
    - change database path in settings.py

    ---
    ### connect to mysql
    - change database part in settings.py
    - install package

    ---
    ### connect to MSSql
    - like MySql change `settings.py`
    - install package
    - learn some of differences of database

    ---
    ### timezone
    - change timezone in settings.py
    - django is timezone free in database(link)
    - liara has Tehran timezone by default

    ---
    ### log file
    - there is no log file in django!

    ---
    ### soft delete
    ---
    ### user auth
    [user auth](https://www.django-rest-framework.org/api-guide/authentication/)
    - [advanced] oauth and openid connect SSO

    ---
    ### easily deploy to liara
    ```
    liara deploy
    ```
    - project name: noteflow.liara.run
    - liara config file
    ---
    ### CORS
    - https://pypi.org/project/django-cors-headers/
    ---
    ### Dockerfile
    - write dockerfile Sample
        - docker run ***
    - write docker-compose.yml Sample
        - docker compose up

    ---
    ### Github CI CD
    - use github CI CD file Sample

    ---
    ### Env File in Django
    - change Debug in settings
    ---
    ### Master Code
    - be careful for security
    ---
    ### Write Test For API

    ---
    ### Upload Media
    - use media folder path in `settings.py`
    - use FileField in Model
    - use FileField in Serializer
    - use validation
        - size validation
        - format validation
        - authentication/authorization
    ---
    ToDo:
    - cache
    - websocket
    - search in database
    - search with elastic search
    - use Model Manager
    - seed database
    - send email
    - send sms
    - cronjob
    - celery
    - create env for each merge request
    - clean code
    - security
        - DDOS
        - XSS
        - Captcha
        - Reverse Proxy Nginx
        - rate limit
    - load test
    - write unit test and functional test (end to end test)
</textarea>
</section>
<section>
    <section><h3>Mixins View</h3></section>
    <section>
        <p style="direction: rtl; text-align: right; font-family: 'B Nazanin'; text-justify: inter-word;">
            <span>۵ مدل Mixin وجود دارد</span>
            <span>در Mixin فقط action method ها تعریف شده‌اند ولی توابع handler method مثل get و post تعریف نشده‌اند.</span>
            <span>کارکرد آن این است که هر کدام یکی از رفتارهای CRUD را پیاده‌سازی کرده است.</span>
            <a href="https://www.django-rest-framework.org/api-guide/generic-views/#mixins">doc</a>
        </p>
    </section>
    <section>
        <table>
            <tr>
                <td>ListModelMixin</td>
                <td>.list</td>
                <td>200 OK(*)</td>
            </tr>
            <tr>
                <td>CreateModelMixin</td>
                <td>.create</td>
                <td>201 Created(*)  or 400 Bad Request(*)</td>
            </tr>
            <tr>
                <td>RetrieveModelMixin</td>
                <td>.retrieve</td>
                <td>200 OK(*) or 404 Not Found</td>
            </tr>
            <tr>
                <td>UpdateModelMixin</td>
                <td>.partial_update</td>
                <td>200 OK(*) or 400 Bad Request</td>
            </tr>
            <tr>
                <td>DestroyModelMixin</td>
                <td>.destroy</td>
                <td>204 No Content or 404 Not Found</td>
            </tr>
        </table>
    </section>
    <section>
        <p>all with parameters of (request, *args, **kwargs)</p>
    </section>
</section>
<section>
    <section>
        <h3>Generics View</h3>
        <p>or Concrete View Classes</p>
    </section>
    <section>
        <p style="direction: rtl; text-align: right; font-family: 'B Nazanin'; text-justify: inter-word;">
            <span>این جا کلاس‌ها به صورت concrete هستند و در صورتی که نیاز نباشد که customize انجام دهیم معمولاً نیاز ما را برطرف می‌کند و کد کوتاه و تمیزی به ما تحویل می‌دهد.</span>
            <span>این‌ها از همان توابع Mixin استفاده می‌کنند و علاوه بر آن‌ها توابع get و post و غیره را هم پیاده‌سازی کرده‌اند. </span>
            <a href="https://www.django-rest-framework.org/api-guide/generic-views/#concrete-view-classes">doc</a>
        </p>
    </section>
    <section>
        <table>
            <tr>
                <td>CreateAPIView</td>
                <td>post</td>
                <td>GenericAPIView, CreateModelMixin</td>
            </tr>
            <tr>
                <td>ListAPIView</td>
                <td>get</td>
                <td>GenericAPIView, ListModelMixin</td>
            </tr>
            <tr>
                <td>RetrieveAPIView</td>
                <td>get</td>
                <td>GenericAPIView, RetrieveModelMixin</td>
            </tr>
            <tr>
                <td>DestroyAPIView</td>
                <td>delete</td>
                <td>GenericAPIView, DestroyModelMixin</td>
            </tr>
            <tr>
                <td>UpdateAPIView</td>
                <td>put and patch</td>
                <td>GenericAPIView, UpdateModelMixin</td>
            </tr>
        </table>
    </section>
</section>
    </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
        slideNumber: 'c/t',
    });
</script>
</body>
</html>
